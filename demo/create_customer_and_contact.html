 <!DOCTYPE html>
<html>
<head>
 <title>Domain Customer with module crud</title>

  <link href="https://cdn.cocreate.app/CoCreate.min.css" rel="stylesheet">

	<style>


	</style>
</head>     
      
      <form data-real_time="true" id="customer-form" collection="modules" data-form_id="resller">
		
		<input data-module_id="jgjkghkjgkj" type="text" name="username" data-get_value="email"  data-domain="username" placeholder="username" value="testcust+1@example.com"/>
		<input type="text" name="email" data-domain="email" placeholder="Email" id="email" class="floating-label_field" value="testcust+1@example.com"/>
		<input type="text" name="passwd"  data-domain="passwd" placeholder="passwd" value="C123456789"/>
		<input type="text" name="name"  data-domain="name" placeholder="name" value="Jane Doe"/>
		<input type="text" name="company"  data-domain="company" placeholder="company" value="N/A"/>
		<input type="text" name="address-line-1"  data-domain="address-line-1" placeholder="address-line-1" value="Test Address Line"/>
		<input type="text" name="city"  data-domain="city" placeholder="city" value="Mumbai"/>
		<input type="text" name="state"  data-domain="state" placeholder="state" value="Maharashtra"/>
		<input type="text" name="country"  data-domain="country" placeholder="country" value="IN"/>
		<input type="text" name="zipcode"  data-domain="zipcode" placeholder="zipcode" value="567889"/>
		<input type="text" name="phone-cc"  data-domain="phone-cc" placeholder="phone-cc" value="91"/>
		<input type="text" name="phone"  data-domain="phone" placeholder="phone" value="9876543211"/>
		<input type="text" name="lang-pref"  data-domain="lang-pref" placeholder="lang-pref" value="en"/>
		<input type="text" name="contact_type" data-domain="contact_type" placeholder="Contact" value="Contact"/>

		<!--<button class='createCustomerReseller submitBtn'>Send</button>-->
		<button type="button" data-actions="registerCustomer, registerContact" id="register">click to sEND</button>
	</form>



  <script>
    var config = {
      apiKey: 'c2b08663-06e3-440c-ef6f-13978b42883a',
            organization_Id: '5de0387b12e200ea63204d6c'
    }
    
  </script>
  
<!--  <script src="http://52.207.107.241:8080/js/socket.io.js"></script>
  <script src="http://52.207.107.241:8080/js/CoCreate.js"></script>
  -->
  <!--<script src="http://52.207.107.241:8080/js/CoCreate-select2.js"></script>-->
  <!--<script src="http://52.207.107.241:8080/js/CoCreate-floating-label.js"></script>-->
  <!--<script src="https://cdn.cocreate.app/CoCreate.min.js"></script>-->
  <script src="../js/Cocreate-APISocket.js"></script>
  <script src="../js/Cocreate-domain.js"></script>
    
  <!--<script src="https://server.cocreate.app/CoCreateJS/dist/CoCreate.js"></script>-->
  <!--<script src="https://server.cocreate.app/CoCreate-components/CoCreate-action/dist/CoCreate-action.js"></script>-->


<script type="text/javascript" >


		
/*
setTimeout(function(){
          console.log("Stage end eventRegisterCustomer");
          document.dispatchEvent(new CustomEvent('eventRegisterCustomer'));
        }, 5000)
*/

var cocreateDomainRegisterAPi = new CocreateDomainAPi();

function registerCustomer(){
	var btn = document.querySelector('button#register')
	let dataToSend = cocreateDomainRegisterAPi.getDataJSON(btn,cocreateDomainRegisterAPi);
	dataToSend['type'] = '.customerRecordBtn';
	dataToSend = cocreateDomainRegisterAPi.manipulateDataToSend(btn,dataToSend);
	console.log('customer from local => ',dataToSend)
	console.log(dataToSend)
    cocreateDomainRegisterAPi.socket(dataToSend,cocreateDomainRegisterAPi);
}

function registerContact(){
console.log("REgister registerContact")
	var btn = document.querySelector('button#register')
	let dataToSend = cocreateDomainRegisterAPi.getDataJSON(btn,cocreateDomainRegisterAPi);
	var localstorage = window.sessionStorage
	dataToSend['customer_id'] = localstorage['id_customer'];
	dataToSend['type'] = '.contactRecordBtn';
	dataToSend = cocreateDomainRegisterAPi.manipulateDataToSend(btn,dataToSend);
	console.log('contact from local => ',dataToSend)
    cocreateDomainRegisterAPi.socket(dataToSend,cocreateDomainRegisterAPi);
}
  	
  	
  	CoCreate.actions.registerEvent('registerCustomer', registerCustomer, window, 'eventRegisterCustomer')
    CoCreate.actions.registerEvent('registerContact', registerContact, window, 'eventregisterContact')
      
  </script>


